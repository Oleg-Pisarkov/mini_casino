@extends('layouts.app')

@section('title', 'Орёл или решка')

@section('content')
<section class="game">
    <h2>Орёл или решка</h2>


    @guest
        <div class="auth-prompt">
            <p>Чтобы играть, необходимо войти в аккаунт или зарегистрироваться.</p>
            <a href="{{ route('login') }}" class="btn btn-login">Войти</a>
            <a href="{{ route('register') }}" class="btn btn-register">Зарегистрироваться</a>
        </div>
    @else
        <form id="coinTossForm" action="{{ route('coin.toss') }}" method="POST">
            @csrf
            <div class="form-group">
                <label for="bet">Ваша ставка (1–1000):</label>
                <input type="number" id="bet" name="bet" min="1" max="1000" value="10" required>
            </div>
           <p><strong>Ваш баланс:</strong> <span id="balance-form">{{ number_format(Auth::user()->balance, 2) }} ₽</span></p>
            <div class="form-group">
                <label>Ваш выбор:</label>
                <div class="choices">
                    <label><input type="radio" name="choice" value="heads" checked> Орёл</label>
                    <label><input type="radio" name="choice" value="tails"> Решка</label>
                </div>
            </div>
            <div id="coin-animation" class="coin-container">
    <svg id="coin" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="800" height="800" viewBox="0 0 512 512">
  <path d="M256.12 511.759c65.556 0 131.113-24.952 181.02-74.859 99.814-99.814 99.814-262.225 0-362.038C387.232 24.953 321.676 0 256.12 0z" style="opacity:.06;fill:#040000"/>
  <path d="M256 512C114.841 512 0 397.159 0 256S114.841 0 256 0s256 114.841 256 256-114.841 256-256 256" style="fill:#f8d176"/>
  <g style="opacity:.2">
    <path d="M331.858 278.511c-2.639-7.713-6.907-14.208-12.786-19.487-4.679-4.679-10.266-8.329-16.762-10.969-6.496-2.639-14.723-4.679-24.68-6.102l-1.92-.291-23.978-3.668c-4.662-.6-8.57-1.628-11.723-3.051-1.32-.583-2.554-1.234-3.719-1.936-1.611-.977-3.051-2.057-4.353-3.24-2.245-2.228-3.805-4.662-4.73-7.301-.908-2.639-1.371-5.382-1.371-8.227 0-7.524 2.691-13.968 8.073-19.35.737-.737 1.525-1.423 2.382-2.04 5.348-4.028 12.94-6.033 22.761-6.033 5.33 0 10.883.48 16.659 1.457 1.936.326 3.891.703 5.879 1.131 7.918 1.731 15.237 5.844 21.938 12.34l26.806-26.514c-9.341-9.135-19.59-15.631-30.765-19.487-7.164-2.468-15.133-4.165-23.875-5.039-4.884-.514-10.026-.754-15.425-.754-8.638 0-16.642.874-23.978 2.639-2.657.634-5.227 1.371-7.713 2.245-9.341 3.24-17.259 7.764-23.755 13.54-6.496 5.793-11.484 12.7-14.928 20.721-3.462 8.021-5.176 16.917-5.176 26.669 0 18.476 5.176 32.702 15.528 42.642 4.885 4.679 10.66 8.484 17.362 11.432 5.296 2.314 11.5 4.165 18.681 5.519 1.937.377 3.925.72 5.999 1.028l25.897 3.959c2.913.428 5.416.891 7.524 1.371 1.868.446 3.428.891 4.662 1.371 2.639 1.011 5.073 2.537 7.318 4.559 4.456 4.474 6.701 10.472 6.701 17.979 0 8.741-3.256 15.442-9.752 20.104-2.502 1.817-5.484 3.274-8.929 4.37-5.484 1.765-12.151 2.639-20.018 2.639-6.684 0-13.163-.6-19.402-1.8a97.1 97.1 0 0 1-8.929-2.159c-8.929-2.639-16.848-7.404-23.755-14.311l-27.423 27.405c10.558 10.78 22.281 18.236 35.187 22.401 7.678 2.485 15.991 4.216 24.938 5.21 6.067.686 12.443 1.029 19.093 1.029 7.061 0 13.831-.566 20.31-1.714a100.7 100.7 0 0 0 11.517-2.708c9.855-2.931 18.373-7.198 25.589-12.786 7.216-5.587 12.854-12.443 16.917-20.567 4.062-8.124 6.085-17.465 6.085-28.022-.002-9.751-1.322-18.475-3.961-26.204" style="fill:#fff"/>
    <path d="M275.71 151.407v36.866c-5.776-.977-11.329-1.457-16.659-1.457-9.821 0-17.413 2.005-22.761 6.033v-41.442c0-10.849 8.878-19.71 19.71-19.71 5.416 0 10.352 2.211 13.917 5.793 3.428 3.411 5.605 8.073 5.776 13.214.017.24.017.463.017.703m0 90.255v40.054c-2.108-.48-4.61-.943-7.524-1.371l-25.897-3.959a137 137 0 0 1-5.999-1.028v-42.351c1.165.703 2.399 1.354 3.719 1.936 3.154 1.423 7.061 2.451 11.723 3.051zm-20.018 91.077c7.867 0 14.534-.874 20.018-2.639v38.974c0 10.832-8.861 19.71-19.71 19.71-10.695 0-19.487-8.655-19.693-19.299-.017-.137-.017-.274-.017-.411v-38.135c6.239 1.2 12.717 1.8 19.402 1.8" style="fill:#fff"/>
  </g>
  <g style="opacity:.5">
    <path d="M256.001 472.633c-119.452 0-216.633-97.181-216.633-216.633s97.18-216.633 216.633-216.633c119.452 0 216.633 97.18 216.633 216.633s-97.181 216.633-216.633 216.633m0-378.029c-88.994 0-161.396 72.402-161.396 161.396s72.402 161.396 161.396 161.396S417.397 344.994 417.397 256 344.994 94.604 256.001 94.604" style="fill:#c69949"/>
  </g>
  <path d="M184 82.265c.458 1.164.856 2.222 1.187 3.17.334.946.576 1.846.725 2.697.15.847.19 1.669.117 2.461-.069.789-.291 1.617-.664 2.474-.497 1.144-1.183 2.144-2.057 3.002-.874.854-2.02 1.563-3.434 2.118-1.411.555-2.736.819-3.972.791s-2.425-.287-3.572-.786c-.855-.376-1.579-.827-2.17-1.359-.593-.529-1.119-1.161-1.572-1.89-.461-.729-.888-1.553-1.29-2.473-.405-.924-.833-1.965-1.291-3.129-.456-1.162-.851-2.217-1.183-3.166-.336-.95-.582-1.846-.745-2.692-.16-.841-.208-1.661-.134-2.453.069-.791.293-1.617.664-2.474.499-1.144 1.189-2.146 2.077-3.009.885-.861 2.034-1.568 3.45-2.123 1.414-.558 2.733-.819 3.957-.786 1.221.031 2.408.295 3.552.791.857.373 1.581.829 2.172 1.359.591.532 1.118 1.161 1.59 1.884.469.724.905 1.548 1.307 2.466.4.922.833 1.966 1.286 3.127m-4.753 1.869c-.458-1.162-.86-2.116-1.204-2.861-.347-.745-.665-1.35-.954-1.817s-.566-.825-.836-1.07c-.27-.253-.567-.459-.893-.619-.495-.255-1.047-.396-1.653-.437-.608-.039-1.241.074-1.902.336-.66.257-1.205.611-1.622 1.05-.419.444-.736.926-.947 1.457-.128.343-.208.697-.233 1.062q-.042.5475.117 1.356c.108.538.294 1.195.559 1.973.268.778.629 1.749 1.088 2.912.456 1.162.851 2.119 1.187 2.867.334.753.645 1.354.929 1.81s.559.807.826 1.055c.272.252.569.454.898.618.514.241 1.08.39 1.694.438.611.05 1.246-.056 1.91-.318.659-.26 1.198-.613 1.612-1.068.412-.453.715-.941.904-1.461.13-.341.208-.695.236-1.06.026-.367-.009-.813-.112-1.34-.101-.525-.279-1.177-.534-1.961-.258-.783-.613-1.759-1.07-2.922m28.828 4.867-14.273-12.715 4.284 15.481-4.922 1.363-6.984-25.224 4.395-1.215 14.263 12.682-4.276-15.446 4.927-1.361 6.981 25.22zm9.648-2.044-3.763-25.9 17.059-2.478.655 4.511-12.002 1.744.88 6.072 10.224-1.482.652 4.506-10.219 1.486.915 6.295 12.004-1.744.657 4.508zm48.418-21.253c-.005 1.105-.205 2.15-.602 3.141-.396.993-.962 1.859-1.7 2.604-.738.744-1.649 1.33-2.728 1.753-1.081.428-2.293.637-3.638.632l-5.039-.022-.038 9.852-5.108-.018.101-26.174 10.144.04c1.348.005 2.562.224 3.64.657 1.076.431 1.979 1.026 2.712 1.774.731.752 1.293 1.624 1.68 2.617.389.997.579 2.039.576 3.144m-5.11-.018c.006-1.078-.329-1.95-1-2.613-.671-.665-1.596-1.002-2.771-1.003l-4.78-.02-.026 7.165 4.78.02c1.173.004 2.101-.316 2.776-.962s1.017-1.509 1.021-2.587m8.652 18.36 2.934-26.005 17.129 1.93-.51 4.529-12.054-1.357-.686 6.1 10.263 1.155-.512 4.531-10.264-1.158-.712 6.319 12.054 1.357-.51 4.531zm36.436 6.102-6.472-17.989-3.624 15.652-4.979-1.154 5.906-25.498 4.439 1.029 6.484 17.953 3.615-15.613 4.979 1.154-5.904 25.496zm24.092 7.881-4.201-18.647-5.531 15.08-4.798-1.762 9.015-24.567 4.277 1.571 4.212 18.615 5.521-15.048 4.796 1.762-9.015 24.572zm22.922-1.287-4.795 9.6-4.539-2.264 4.795-9.604-.141-17.323 4.964 2.478-.337 11.622 9.022-7.288 4.964 2.478zm-21.932 335.906c-.458-1.165-.856-2.222-1.187-3.17-.334-.946-.576-1.846-.725-2.697-.149-.846-.19-1.669-.117-2.46.069-.789.291-1.617.664-2.475.497-1.144 1.183-2.144 2.057-3.002.874-.854 2.02-1.563 3.434-2.118 1.412-.555 2.736-.819 3.972-.791 1.237.028 2.425.287 3.572.786.855.376 1.579.827 2.17 1.359.593.529 1.118 1.161 1.572 1.89.461.729.888 1.553 1.29 2.473.405.924.832 1.965 1.291 3.129.456 1.162.851 2.217 1.183 3.165.336.95.582 1.846.745 2.692.16.841.208 1.661.134 2.453-.069.792-.293 1.617-.664 2.474-.499 1.144-1.189 2.146-2.077 3.01-.885.861-2.034 1.568-3.45 2.123-1.414.558-2.733.819-3.957.786-1.221-.031-2.408-.294-3.552-.792-.857-.373-1.582-.829-2.172-1.359-.591-.532-1.119-1.161-1.59-1.884-.469-.724-.905-1.548-1.307-2.466-.4-.922-.832-1.966-1.286-3.126m4.753-1.87c.458 1.162.86 2.116 1.204 2.861.347.745.665 1.35.954 1.817s.566.825.836 1.071c.27.253.567.459.893.619.495.256 1.047.396 1.653.437.608.039 1.241-.073 1.902-.336.659-.257 1.204-.611 1.622-1.05.42-.444.736-.926.947-1.457.128-.343.208-.697.234-1.062.028-.365-.011-.817-.117-1.355-.108-.539-.294-1.195-.559-1.973-.267-.778-.629-1.749-1.088-2.912-.456-1.162-.851-2.119-1.187-2.867-.334-.753-.645-1.353-.929-1.81-.284-.456-.559-.807-.826-1.055-.272-.252-.569-.454-.898-.618-.514-.241-1.08-.39-1.694-.438-.611-.05-1.246.056-1.91.318-.659.26-1.198.613-1.612 1.068-.412.453-.715.941-.905 1.461-.13.341-.208.695-.236 1.06-.026.367.009.813.112 1.34.101.525.279 1.177.534 1.961.259.781.614 1.758 1.07 2.92m-28.828-4.866 14.273 12.715-4.284-15.481 4.922-1.363 6.984 25.224-4.395 1.215-14.263-12.682 4.276 15.446-4.927 1.361-6.981-25.22zm-9.647 2.043 3.763 25.9-17.059 2.478-.655-4.511 12.002-1.744-.88-6.072-10.224 1.482-.652-4.506 10.219-1.486-.915-6.295-12.004 1.744-.657-4.508zm-48.419 21.253c.005-1.105.205-2.15.602-3.141.396-.993.962-1.859 1.7-2.603s1.649-1.33 2.728-1.753c1.081-.428 2.293-.637 3.638-.632l5.038.022.038-9.852 5.108.018-.101 26.174-10.144-.04c-1.348-.005-2.562-.224-3.64-.657-1.076-.431-1.979-1.026-2.712-1.774-.731-.752-1.293-1.624-1.68-2.617-.387-.998-.577-2.04-.575-3.145m5.111.018c-.006 1.078.329 1.95 1 2.613.671.665 1.596 1.002 2.771 1.003l4.78.02.026-7.165-4.78-.02c-1.172-.004-2.101.316-2.776.962-.676.646-1.018 1.509-1.021 2.587m-8.652-18.36-2.934 26.005-17.129-1.93.51-4.529 12.054 1.357.686-6.1-10.264-1.155.512-4.531 10.264 1.158.712-6.319-12.054-1.357.51-4.531zm-36.436-6.102 6.472 17.989 3.624-15.652 4.979 1.154-5.906 25.498-4.439-1.029-6.484-17.953-3.615 15.613-4.979-1.154 5.904-25.496zm-24.092-7.881 4.2 18.647 5.531-15.08 4.798 1.762-9.015 24.567-4.277-1.571-4.213-18.616-5.521 15.048-4.796-1.762 9.015-24.572zm-22.923 1.287 4.795-9.6 4.539 2.264-4.795 9.604.141 17.323-4.964-2.478.337-11.622-9.022 7.288-4.964-2.478z" style="fill:#f8d176"/>
  <path d="M331.858 274.27c-2.639-7.713-6.907-14.208-12.786-19.487-4.679-4.679-10.266-8.329-16.762-10.969-6.496-2.639-14.723-4.679-24.68-6.102l-1.92-.292-23.978-3.668c-4.662-.6-8.57-1.628-11.723-3.051-1.32-.583-2.554-1.234-3.719-1.936-1.611-.977-3.051-2.057-4.353-3.24-2.245-2.228-3.805-4.662-4.73-7.301-.908-2.639-1.371-5.382-1.371-8.227 0-7.524 2.691-13.968 8.073-19.35.737-.737 1.525-1.423 2.382-2.04 5.348-4.028 12.94-6.033 22.761-6.033 5.33 0 10.883.48 16.659 1.457 1.936.326 3.891.703 5.879 1.131 7.918 1.731 15.237 5.844 21.938 12.34l26.806-26.514c-9.341-9.135-19.59-15.631-30.765-19.487-7.164-2.468-15.133-4.165-23.875-5.039-4.884-.514-10.026-.754-15.425-.754-8.638 0-16.642.874-23.978 2.64-2.657.634-5.227 1.371-7.713 2.245-9.341 3.239-17.259 7.764-23.755 13.54-6.496 5.793-11.484 12.7-14.928 20.721-3.462 8.021-5.176 16.917-5.176 26.669 0 18.476 5.176 32.701 15.528 42.642 4.885 4.679 10.66 8.484 17.362 11.432 5.296 2.314 11.5 4.165 18.681 5.519 1.937.377 3.925.72 5.999 1.028l25.897 3.959c2.913.428 5.416.891 7.524 1.371 1.868.446 3.428.891 4.662 1.371 2.639 1.011 5.073 2.537 7.318 4.559 4.456 4.473 6.701 10.472 6.701 17.979 0 8.741-3.256 15.442-9.752 20.104-2.502 1.817-5.484 3.274-8.929 4.37-5.484 1.765-12.151 2.639-20.018 2.639-6.684 0-13.163-.6-19.402-1.8a96.8 96.8 0 0 1-8.929-2.16c-8.929-2.639-16.848-7.404-23.755-14.311l-27.423 27.405c10.558 10.78 22.281 18.236 35.187 22.401 7.678 2.485 15.991 4.216 24.938 5.21 6.067.686 12.443 1.029 19.093 1.029 7.061 0 13.831-.566 20.31-1.714a100.7 100.7 0 0 0 11.517-2.708c9.855-2.931 18.373-7.198 25.589-12.786 7.216-5.587 12.854-12.443 16.917-20.567 4.062-8.124 6.085-17.465 6.085-28.022-.002-9.749-1.322-18.473-3.961-26.203" style="fill:#d9ae56"/>
  <path d="M275.71 147.167v36.866c-5.776-.977-11.329-1.457-16.659-1.457-9.821 0-17.413 2.005-22.761 6.033v-41.442c0-10.849 8.878-19.71 19.71-19.71 5.416 0 10.352 2.211 13.917 5.793 3.428 3.411 5.605 8.072 5.776 13.214.017.24.017.463.017.703m0 90.254v40.054c-2.108-.48-4.61-.943-7.524-1.371l-25.897-3.959a137 137 0 0 1-5.999-1.028v-42.351c1.165.703 2.399 1.354 3.719 1.936 3.154 1.423 7.061 2.451 11.723 3.051zm-20.018 91.077c7.867 0 14.534-.874 20.018-2.639v38.974c0 10.832-8.861 19.71-19.71 19.71-10.695 0-19.487-8.655-19.693-19.299-.017-.137-.017-.274-.017-.411v-38.134c6.239 1.199 12.717 1.799 19.402 1.799" style="fill:#d9ae56"/>
  <circle cx="65.963" cy="256" r="9.56" style="fill:#f8d176"/>
  <circle cx="444.121" cy="256" r="9.56" style="fill:#f8d176"/>
  <path d="M256.12 511.759c65.556 0 131.113-24.952 181.02-74.859 99.814-99.814 99.814-262.225 0-362.038C387.232 24.953 321.676 0 256.12 0z" style="opacity:.06;fill:#040000"/>
</svg>
</div>
            <button type="submit">Бросить монету</button>
        </form>
    @endguest


    <div id="result" class="result"></div>
</section>
@endsection
